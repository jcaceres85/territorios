"use strict";jsPanel.contextmenu||(jsPanel.contextmenu={version:"1.0.0",date:"2018-03-16 14:30",defaults:{dragit:!1,resizeit:!1,header:!1,headerControls:"none"},cmOverflow:function(e){var t=e.cmEvent.clientX,n=e.cmEvent.clientY,o=e.offsetWidth,s=e.offsetHeight,a=window.innerWidth-(t+o),l=window.innerHeight-(n+s);a<0&&(e.style.left=t+(window.scrollX||window.pageXOffset)-o+"px"),l<0&&(e.style.top=n+(window.scrollY||window.pageYOffset)-s+"px")},create:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contextmenu";t.paneltype="contextmenu";var o=t.target;if(!o)return!1;"string"==typeof o&&(o=document.querySelector(o)),o.addEventListener(n,function(n){n.preventDefault(),document.querySelectorAll(".jsPanel-contextmenu").forEach(function(e){e.close()});var s=(n.pageX||n.touches[0].pageX)+"px",a=(n.pageY||n.touches[0].pageY)+"px",l=t;t.config&&delete(l=Object.assign({},t.config,t)).config,l=Object.assign({},e.defaults,l,{position:!1,container:"body"}),jsPanel.create(l,function(e){jsPanel.setStyle(e,{position:"absolute",left:s,top:a});var t=o.closest(".jsPanel-modal");if(t)e.style.zIndex=t.style.zIndex;else{var l=o.closest(".jsPanel");l&&l.front(),e.style.zIndex=jsPanel.zi.next()}e.cmEvent=n,jsPanel.contextmenu.cmOverflow(e),e.addEventListener("mouseleave",function(){e.close()},!1),e.addEventListener(jsPanel.evtStart,function(e){e.stopPropagation()},!1)})},!1)}},jsPanel.ajaxAlwaysCallbacks.push(function(e){e.classList.contains("jsPanel-contextmenu")&&jsPanel.contextmenu.cmOverflow(e)}),document.addEventListener(jsPanel.pointerdown,function(e){document.querySelectorAll(".jsPanel-contextmenu").forEach(function(t){e.target.closest(".jsPanel-contextmenu")||t.close()})},!1));